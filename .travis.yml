language: node_js
node_js:
  - '0.10'
  - '0.11'
  - '0.12'
  - '4.0'
  - '4.1'
  - '4.2'
before_script:
  - npm install -g grunt-cli istanbul
after_success:
  - istanbul cover ./node_modules/mocha/bin/_mocha --require ./node_modules/babel/register.js --require ./node_modules/should/index.js --report lcovonly -- test/** -R spec && cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js && rm -rf ./coverage
deploy:
  provider: npm
  email: mguilarducci@gmail.com
  api_key:
    secure: ppjjYWcuGO1+Y+3SAWGDveAa5oIiL4sKP/20Od4O8EIktaC3is/9BLlpd9IDd2K7aea5xvD5CJjJ+ZTwI3PQ4hVepLkWqMOusHw3mE6YZK0cTFMZwhb2lrqQUKL6IL2CLkodX6hB08h9FFA4RuwufRbWKADlqpXmhe9I9g/LlgXn9NYWggrMWQneuPuTFpiwTAj4fnmLjP6649dNC31wkUudiUsc6NobMzy6qgSZrTFtt9dbOH+ciEOfBOsdkjFFR+FDOmP+u0qiW/cq4myeI955rX9pJfdtv61ZU7vhD4Dit24fwl/A+63OBX7dXJKsYbbfMV7SqIlFxF9JKYaC3dVbwW1gjfXoPqbZNjw1l8y8ClXQdOcRTtOqEqgrGqEfw+3xsU1QyFUjsUVmlE1oJ35MXK2k1JURX4VUgmORF+9Nq3hzxbSOWH3molTmw5H1GqRx2uIcufsdGeAa4EqsCPCKcQri0z78ll3CbOhdBltPbs1lIKN+gc8B2fgoJT+eNdfGOBf3Aig0UlaMogfgHG5kRghDcpkC6RjQgGvylMQwpErYHAAzf0dZsrSGfP2C/chCMb+4wI7dxnMvMxxcxK6SsF6y9/yXSdWxUwe5dlSDMshCqLgVwtVa/uQ/ksGODws4/IrXIjKdKBP2KrpRCUrJGI6GHWmiSSMUtJ2BnMs=
  on:
    tags: true
    repo: stone-payments/string-helper
